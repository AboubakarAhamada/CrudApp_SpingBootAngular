{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nconst _c0 = function (a1) {\n  return [\"/show-product\", a1];\n};\n\nconst _c1 = function (a1) {\n  return [\"/edit-product\", a1];\n};\n\nfunction ProductsComponent_tbody_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 12);\n    i0.ɵɵelement(14, \"span\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 14);\n    i0.ɵɵelement(16, \"span\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_tbody_28_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.onDeleteProduct(product_r2);\n    });\n    i0.ɵɵelement(18, \"span\", 17);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r2.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r2.available);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, product_r2.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c1, product_r2.id));\n  }\n}\n\nexport class ProductsComponent {\n  constructor(productService, router) {\n    this.productService = productService;\n    this.router = router;\n    this.products$ = null;\n  }\n\n  ngOnInit() {\n    this.onGetAllProducts();\n  }\n\n  onGetAllProducts() {\n    this.products$ = this.productService.getAllProducts();\n  }\n\n  onGetAvailableProducts() {\n    this.products$ = this.productService.getAvailableProducts();\n  }\n\n  onSearchProducts(dataForm) {\n    this.products$ = this.productService.searchProducts(dataForm.keyword);\n  }\n\n  onDeleteProduct(product) {\n    let confirmMessage = confirm(\"Etes-vous sur de vuloir supprimer le produit \" + product.name + \"?\");\n\n    if (confirmMessage) {\n      this.productService.deleteProduct(product).subscribe(data => {\n        // On recharge les données\n        this.onGetAllProducts();\n      });\n    }\n  }\n\n  onAddProduct() {\n    this.router.navigateByUrl(\"/add-product\");\n  }\n\n  onEditProduct(p) {\n    this.router.navigateByUrl(\"editProduct/\" + p.id);\n  }\n\n}\n\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 30,\n  vars: 3,\n  consts: [[1, \"nav\", \"ml-auto\", \"bg-light\"], [1, \"btn\", \"btn-outline-info\", \"btn-sm\", 3, \"click\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"keyword\", \"placeholder\", \"Enter product name\"], [1, \"btn\", \"btn-outline-success\", \"btn-sm\"], [1, \"fa\", \"fa-search\"], [1, \"table\", \"container\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-outline-info\", 3, \"routerLink\"], [1, \"fa\", \"fa-link\"], [1, \"btn\", \"btn-outline-warning\", 3, \"routerLink\"], [1, \"fa\", \"fa-edit\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_1_listener() {\n        return ctx.onGetAllProducts();\n      });\n      i0.ɵɵtext(2, \"All products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_3_listener() {\n        return ctx.onGetAvailableProducts();\n      });\n      i0.ɵɵtext(4, \"Available products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_5_listener() {\n        return ctx.onAddProduct();\n      });\n      i0.ɵɵtext(6, \"+ Add Product\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductsComponent_Template_form_ngSubmit_7_listener() {\n        i0.ɵɵrestoreView(_r5);\n\n        const _r0 = i0.ɵɵreference(8);\n\n        return ctx.onSearchProducts(_r0.value);\n      });\n      i0.ɵɵelementStart(9, \"div\", 4);\n      i0.ɵɵelement(10, \"input\", 5);\n      i0.ɵɵelementStart(11, \"button\", 6);\n      i0.ɵɵelement(12, \"span\", 7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(13, \"table\", 8)(14, \"thead\", 9)(15, \"tr\")(16, \"th\", 10);\n      i0.ɵɵtext(17, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 10);\n      i0.ɵɵtext(19, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 10);\n      i0.ɵɵtext(21, \"Price (MAD)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 10);\n      i0.ɵɵtext(23, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 10);\n      i0.ɵɵtext(25, \"Available\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\", 10);\n      i0.ɵɵtext(27, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(28, ProductsComponent_tbody_28_Template, 19, 11, \"tbody\", 11);\n      i0.ɵɵpipe(29, \"async\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(29, 1, ctx.products$));\n    }\n  },\n  directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgForOf, i2.RouterLink],\n  pipes: [i4.AsyncPipe],\n  styles: [\"nav[_ngcontent-%COMP%] {\\r\\n  height: 50px;\\r\\n}\\r\\ntable[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  margin: 3px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7QUFDQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsV0FBVztBQUNiIiwiZmlsZSI6InByb2R1Y3RzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJuYXYge1xyXG4gIGhlaWdodDogNTBweDtcclxufVxyXG50YWJsZSB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5idXR0b24ge1xyXG4gIG1hcmdpbjogM3B4O1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/PC/Desktop/JAVA/JavaAngularProject/AngularCrudApp/src/app/components/products/products.component.ts"],"names":["i0","i1","i2","i3","i4","_c0","a1","_c1","ProductsComponent_tbody_28_Template","rf","ctx","_r4","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ProductsComponent_tbody_28_Template_button_click_17_listener","restoredCtx","ɵɵrestoreView","product_r2","$implicit","ctx_r3","ɵɵnextContext","onDeleteProduct","ɵɵadvance","ɵɵtextInterpolate","id","name","price","quantity","available","ɵɵproperty","ɵɵpureFunction1","ProductsComponent","constructor","productService","router","products$","ngOnInit","onGetAllProducts","getAllProducts","onGetAvailableProducts","getAvailableProducts","onSearchProducts","dataForm","searchProducts","keyword","product","confirmMessage","confirm","deleteProduct","subscribe","data","onAddProduct","navigateByUrl","onEditProduct","p","ɵfac","ProductsComponent_Factory","t","ɵɵdirectiveInject","ProductService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","ProductsComponent_Template","_r5","ProductsComponent_Template_button_click_1_listener","ProductsComponent_Template_button_click_3_listener","ProductsComponent_Template_button_click_5_listener","ProductsComponent_Template_form_ngSubmit_7_listener","_r0","ɵɵreference","value","ɵɵtemplate","ɵɵpipe","ɵɵpipeBind1","directives","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","NgControlStatus","NgModel","NgForOf","RouterLink","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/product.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/common\";\r\nconst _c0 = function (a1) { return [\"/show-product\", a1]; };\r\nconst _c1 = function (a1) { return [\"/edit-product\", a1]; };\r\nfunction ProductsComponent_tbody_28_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tbody\")(1, \"tr\")(2, \"td\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"td\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"td\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"td\");\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"td\");\r\n    i0.ɵɵtext(11);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 12);\r\n    i0.ɵɵelement(14, \"span\", 13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"button\", 14);\r\n    i0.ɵɵelement(16, \"span\", 15);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"button\", 16);\r\n    i0.ɵɵlistener(\"click\", function ProductsComponent_tbody_28_Template_button_click_17_listener() { const restoredCtx = i0.ɵɵrestoreView(_r4); const product_r2 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.onDeleteProduct(product_r2); });\r\n    i0.ɵɵelement(18, \"span\", 17);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const product_r2 = ctx.$implicit;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(product_r2.id);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(product_r2.name);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(product_r2.price);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(product_r2.quantity);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(product_r2.available);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, product_r2.id));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(9, _c1, product_r2.id));\r\n} }\r\nexport class ProductsComponent {\r\n    constructor(productService, router) {\r\n        this.productService = productService;\r\n        this.router = router;\r\n        this.products$ = null;\r\n    }\r\n    ngOnInit() {\r\n        this.onGetAllProducts();\r\n    }\r\n    onGetAllProducts() {\r\n        this.products$ = this.productService.getAllProducts();\r\n    }\r\n    onGetAvailableProducts() {\r\n        this.products$ = this.productService.getAvailableProducts();\r\n    }\r\n    onSearchProducts(dataForm) {\r\n        this.products$ = this.productService.searchProducts(dataForm.keyword);\r\n    }\r\n    onDeleteProduct(product) {\r\n        let confirmMessage = confirm(\"Etes-vous sur de vuloir supprimer le produit \" + product.name + \"?\");\r\n        if (confirmMessage) {\r\n            this.productService.deleteProduct(product)\r\n                .subscribe(data => {\r\n                // On recharge les données\r\n                this.onGetAllProducts();\r\n            });\r\n        }\r\n    }\r\n    onAddProduct() {\r\n        this.router.navigateByUrl(\"/add-product\");\r\n    }\r\n    onEditProduct(p) {\r\n        this.router.navigateByUrl(\"editProduct/\" + p.id);\r\n    }\r\n}\r\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) { return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router)); };\r\nProductsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProductsComponent, selectors: [[\"app-products\"]], decls: 30, vars: 3, consts: [[1, \"nav\", \"ml-auto\", \"bg-light\"], [1, \"btn\", \"btn-outline-info\", \"btn-sm\", 3, \"click\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"type\", \"text\", \"ngModel\", \"\", \"name\", \"keyword\", \"placeholder\", \"Enter product name\"], [1, \"btn\", \"btn-outline-success\", \"btn-sm\"], [1, \"fa\", \"fa-search\"], [1, \"table\", \"container\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-outline-info\", 3, \"routerLink\"], [1, \"fa\", \"fa-link\"], [1, \"btn\", \"btn-outline-warning\", 3, \"routerLink\"], [1, \"fa\", \"fa-edit\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"fa\", \"fa-trash\"]], template: function ProductsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r5 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_1_listener() { return ctx.onGetAllProducts(); });\r\n        i0.ɵɵtext(2, \"All products\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_3_listener() { return ctx.onGetAvailableProducts(); });\r\n        i0.ɵɵtext(4, \"Available products\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(5, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_5_listener() { return ctx.onAddProduct(); });\r\n        i0.ɵɵtext(6, \"+ Add Product\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"form\", 2, 3);\r\n        i0.ɵɵlistener(\"ngSubmit\", function ProductsComponent_Template_form_ngSubmit_7_listener() { i0.ɵɵrestoreView(_r5); const _r0 = i0.ɵɵreference(8); return ctx.onSearchProducts(_r0.value); });\r\n        i0.ɵɵelementStart(9, \"div\", 4);\r\n        i0.ɵɵelement(10, \"input\", 5);\r\n        i0.ɵɵelementStart(11, \"button\", 6);\r\n        i0.ɵɵelement(12, \"span\", 7);\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(13, \"table\", 8)(14, \"thead\", 9)(15, \"tr\")(16, \"th\", 10);\r\n        i0.ɵɵtext(17, \"ID\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"th\", 10);\r\n        i0.ɵɵtext(19, \"Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"th\", 10);\r\n        i0.ɵɵtext(21, \"Price (MAD)\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"th\", 10);\r\n        i0.ɵɵtext(23, \"Quantity\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(24, \"th\", 10);\r\n        i0.ɵɵtext(25, \"Available\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"th\", 10);\r\n        i0.ɵɵtext(27, \"Action\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵtemplate(28, ProductsComponent_tbody_28_Template, 19, 11, \"tbody\", 11);\r\n        i0.ɵɵpipe(29, \"async\");\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(28);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(29, 1, ctx.products$));\r\n    } }, directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgForOf, i2.RouterLink], pipes: [i4.AsyncPipe], styles: [\"nav[_ngcontent-%COMP%] {\\r\\n  height: 50px;\\r\\n}\\r\\ntable[_ngcontent-%COMP%] {\\r\\n  margin-top: 20px;\\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  margin: 3px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2Q7QUFDQTtFQUNFLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UsV0FBVztBQUNiIiwiZmlsZSI6InByb2R1Y3RzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJuYXYge1xyXG4gIGhlaWdodDogNTBweDtcclxufVxyXG50YWJsZSB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG5idXR0b24ge1xyXG4gIG1hcmdpbjogM3B4O1xyXG59XHJcbiJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}